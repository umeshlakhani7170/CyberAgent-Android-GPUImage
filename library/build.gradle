apply plugin: 'com.android.library'

android {
    compileSdkVersion 34
    buildToolsVersion = '34.0.0'

    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 34
        consumerProguardFiles 'proguard-rules.txt'
        ndk {
            moduleName "gpuimage-library"
            stl "gnustl_shared"
            abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'
            ldLibs "log"
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
    }
    externalNativeBuild {
        cmake {
            path file('src/main/jni/CMakeLists.txt')
            version '3.22.1'
        }
    }
    lint {
        abortOnError false
    }
    buildFeatures {
        renderScript true
        aidl true
    }
    namespace 'jp.co.cyberagent.android.gpuimage'
    ndkVersion '26.1.10909125'
}
